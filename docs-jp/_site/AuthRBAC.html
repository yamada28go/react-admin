<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>React-admin - RBAC</title>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
        <meta name="description" content="" />
        <meta name="HandheldFriendly" content="true" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link
            rel="canonical"
            href="/AuthRBAC.html"
        />
        <link
            rel="stylesheet"
            href="/css/materialize.min.css"
        />
        <link
            rel="stylesheet"
            href="/css/style-v19.css"
        />
        <link rel="stylesheet" href="/css/syntax.css" />
        <link rel="stylesheet" href="/css/prism.css" />
        <link rel="stylesheet" href="/css/tocbot.css" />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.0/tocbot.css"
            integrity="sha512-2kqK5bWDwdrluTn6Wkj+jgiwyzvAHLirVp08Kz7kN5I8PWQ0tUtEMxfhyWDCrnws91BJ9PfrUy6ImfA7Qb22TA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <link
            rel="stylesheet"
            href="/css/docsearch.css"
        />
        <!-- Newsletter form -->
        <style>
            @font-face {
                font-display: block;
                font-family: Roboto;
                src: url(https://assets.brevo.com/font/Roboto/Latin/normal/normal/7529907e9eaf8ebb5220c5f9850e3811.woff2)
                        format('woff2'),
                    url(https://assets.brevo.com/font/Roboto/Latin/normal/normal/25c678feafdc175a70922a116c9be3e7.woff)
                        format('woff');
            }

            @font-face {
                font-display: fallback;
                font-family: Roboto;
                font-weight: 600;
                src: url(https://assets.brevo.com/font/Roboto/Latin/medium/normal/6e9caeeafb1f3491be3e32744bc30440.woff2)
                        format('woff2'),
                    url(https://assets.brevo.com/font/Roboto/Latin/medium/normal/71501f0d8d5aa95960f6475d5487d4c2.woff)
                        format('woff');
            }

            @font-face {
                font-display: fallback;
                font-family: Roboto;
                font-weight: 700;
                src: url(https://assets.brevo.com/font/Roboto/Latin/bold/normal/3ef7cf158f310cf752d5ad08cd0e7e60.woff2)
                        format('woff2'),
                    url(https://assets.brevo.com/font/Roboto/Latin/bold/normal/ece3a1d82f18b60bcce0211725c476aa.woff)
                        format('woff');
            }

            #sib-container input:-ms-input-placeholder {
                text-align: left;
                font-family: 'Helvetica', sans-serif;
                color: #c0ccda;
            }

            #sib-container input::placeholder {
                text-align: left;
                font-family: 'Helvetica', sans-serif;
                color: #c0ccda;
            }

            #sib-container textarea::placeholder {
                text-align: left;
                font-family: 'Helvetica', sans-serif;
                color: #c0ccda;
            }
        </style>
        <link
            rel="stylesheet"
            href="/css/newsletter.css"
        />
    </head>

    <body>
        <header>
            <nav>
    <a href="#" data-target="slide-out" class="sidenav-trigger">
        <i class="material-icons">&#xe5d2;</i>
    </a>
    <div class="nav-wrapper">
        <div class="left react-admin-logo">
            <a href=""> <svg version="1.0" x="0px" y="0px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 130 130" >
<style type="text/css">
	:root{
		--color: #ffffff;
	}
	.st0{opacity:0.3;}
	.st2{opacity:0.6;}
	.st1{fill: var(--color);}
</style>
<g id="layer3Fill" class="st0">
	<polygon class="st1" points="67.4,117.7 81.3,125.7 88.7,112.9 75.7,112.9 	"/>
	<polygon class="st1" points="12.3,67.5 4.4,81.2 17.2,88.6 17.2,76 	"/>
	<polygon class="st1" points="62.6,12.3 48.8,4.3 41.4,17.1 54.2,17.1 	"/>
	<polygon class="st1" points="117.7,62.6 125.7,48.8 112.8,41.3 112.8,54.1 	"/>
</g>
<g id="layer3Border" class="st2">
	<path class="st1" d="M39.2,17.1c0.5,0,1.7,0,2.2,0l7.4-12.8l13.8,8l1.9-1.1L48.1,1.7L39.2,17.1z"/>
	<path class="st1" d="M112.8,39.1c0,0.5,0,1.7,0,2.2l12.9,7.5l-8,13.8c0.3,0.5,0.8,1.5,1.1,2l9.5-16.5L112.8,39.1z"/>
	<path class="st1" d="M88.7,112.9l-7.4,12.8l-13.9-8l-1.9,1.1l16.5,9.5l8.9-15.4C90.4,112.9,89.2,112.9,88.7,112.9z"/>
	<path class="st1" d="M12.3,67.5c-0.3-0.5-0.8-1.4-1.1-1.9L1.8,82l15.4,8.9c0-0.6,0-1.7,0-2.3L4.4,81.2L12.3,67.5z"/>
</g>
<g id="layer2Fill" class="st2">
	<polygon class="st1" points="41.9,112.9 48.9,125.1 70.1,112.9 	"/>
	<polygon class="st1" points="17.2,70.1 17.2,41.9 5,49 	"/>
	<polygon class="st1" points="60.1,17.1 88.1,17.1 81.1,5 	"/>
	<polygon class="st1" points="112.8,60 112.8,88.2 125,81.1 	"/>
</g>
<g id="layer2Border">
	<polygon class="st1" points="17.2,76 17.2,70.1 5,49 17.2,41.9 17.2,38.5 1,47.9 	"/>
	<path class="st1" d="M54.2,17.1h5.9c0,0,19.9-11.5,21-12.1l7,12.1c0.8,0,2.5,0,3.3,0L82.1,1L54.2,17.1z"/>
	<polygon class="st1" points="112.8,54.1 112.8,60 125,81.1 112.8,88.2 112.8,91.5 129,82.2 	"/>
	<path class="st1" d="M48.9,125.1l-7-12.2c-0.8,0-2.6,0-3.4,0l9.3,16.1c6.7-3.9,21.4-12.3,27.9-16.1c-1.4,0-5.6,0-5.6,0L48.9,125.1z
		"/>
</g>
<path id="raBorder" class="st1" d="M17,17v96h96V17H17z M108,108H22V22h86V108z"/>
<g id="ra">
	<path id="aLetter" class="st1" d="M96.1,55.4c-0.7-1.9-2-3.2-3.7-4c-1.9-0.8-4.6-1.2-8.2-1.2c-4.2,0-7.9,0.3-11.1,1v4.2
		c1.2-0.2,2.7-0.4,4.7-0.5c1.9-0.1,3.5-0.2,4.8-0.2c2.9,0,5,0.2,6.2,0.5c1.3,0.4,2.1,1.2,2.5,2.3c0.5,1.2,0.7,3.2,0.7,6.1V66
		c-6.2-0.2-9.9-0.3-11.1-0.3c-2.5,0-4.5,0.3-5.9,1c-1.4,0.7-2.3,1.8-2.9,3.2c-0.6,1.4-0.9,3.5-0.9,6.2c0,3.9,0.9,6.5,2.4,8
		c1.7,1.5,4.2,2.1,7.8,2.1c2.4,0,4.6-0.4,6.4-1.1c1.9-0.7,3.2-2.1,4-4.3h0.3l0.3,4.9h4.7v-22C97.1,60,96.8,57.3,96.1,55.4z M92,71.6
		c0,2.9-0.4,5.4-1.3,7.1c-0.6,1.2-1.6,2-2.7,2.3c-1.3,0.4-2.8,0.6-4.7,0.8c-2,0-3.4-0.2-4.4-0.5c-0.9-0.4-1.6-1-2-1.8
		c-0.4-0.8-0.6-2.1-0.6-3.8s0.2-3,0.5-3.9c0.3-0.9,0.9-1.5,1.7-1.8s2.1-0.5,3.7-0.5H92V71.6z"/>
	<path id="rLetter" class="st1" d="M62.4,61.2c0.9-2.2,1.3-5.1,1.3-8.5c0-3.1-0.3-5.7-0.8-7.6c-0.5-2-1.7-3.5-3.4-4.7
		c-1.8-1.2-4.4-1.8-7.9-1.8H33.5v47.1H39V67h11.9h1.2l6.5,18.8h5.9L57.3,66C59.9,65,61.6,63.4,62.4,61.2z M55.4,61.2
		c-1.3,0.7-3.1,1-5.6,1H39V43.5h11.2c2.4,0,4.2,0.3,5.4,1c1.2,0.7,2,1.6,2.2,2.8c0.3,1.3,0.5,3,0.5,5.5c0,2.3-0.2,4.2-0.6,5.5
		C57.3,59.5,56.6,60.5,55.4,61.2z"/>
</g>
</svg>
 </a>
        </div>
        <div class="left">
            <div id="docsearch" class="center"></div>
        </div>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li class="active">
                <a href="/documentation.html">Documentation</a>
            </li>
            <li>
                <a href="/Demos.html">Demos</a>
            </li>
            <li>
                <a href="https://marmelab.com/en/blog/#react-admin">Blog</a>
            </li>
            <li>
                <a
                    href="https://marmelab.com/ra-enterprise/"
                    style="color: #f0c070"
                    >Enterprise Edition</a
                >
            </li>
            <li>
                <a
                    href="https://github.com/marmelab/react-admin"
                    title="GitHub"
                >
                    <svg
                        viewBox="0 0 256 250"
                        preserveAspectRatio="xMidYMid"
                        style="
                            height: 20px;
                            vertical-align: middle;
                            fill: #ffffff;
                        "
                    >
                        <path
                            d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403z"
                        ></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://discord.gg/GeZF9sqh3N" title="Discord">
                    <svg
                        height="25px"
                        width="25px"
                        viewBox="0 -28.5 256 256"
                        preserveAspectRatio="xMidYMid"
                        style="
                            height: 20px;
                            vertical-align: middle;
                            margin-right: 10px;
                            fill: #ffffff;
                        "
                    >
                        <path
                            d="M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z"
                        ></path>
                    </svg>
                </a>
            </li>
        </ul>
    </div>
</nav>

            <ul id="slide-out" class="sidenav sidenav-fixed">
                <li class="logo">
                    <a href=""
                        ><img src="/assets/logo_white.png"
                    /></a>
                </li>
                <li class="version">
<a class="dropdown-trigger" href="#" data-target="versions">
    
    
    
    <svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10l5 5 5-5z"></path>
        <path d="M0 0h24v24H0z" fill="none"></path>
    </svg>
</a>
<ul id="versions" class="dropdown-content">
    
</ul>
</li>
                <a class="center-align switch" style="display:block;margin-bottom: 1em" name="beginner-mode" title="Hide the sections concerning advanced usage to navigate more easily in the documentation">
<label>
  <input type="checkbox" name="beginner-mode-trigger" id="beginner-mode-trigger" />
  <span class="lever"></span>
  Beginner Mode
</label>
</a>

<ul><div>Getting Started</div>
  <li  class="beginner" ><a class="nav-link" href="./Tutorial.html">Tutorial</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Features.html">Features</a></li>
  <li ><a class="nav-link" href="./Architecture.html">Key concepts</a></li>
  <li><a class="nav-link external" href="https://github.com/marmelab/react-admin/releases" target="_blank">What's new?</a></li>
  <li  class="beginner" ><a class="nav-link" href="./CreateReactAdmin.html">Create React Admin</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Vite.html">Vite</a></li>
  <li ><a class="nav-link" href="./NextJs.html">Next.js</a></li>
  <li ><a class="nav-link" href="./Remix.html">Remix</a></li>
  <li ><a class="nav-link" href="./CreateReactApp.html">Create React App</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Community.html">Community</a></li>
  <li ><a class="nav-link" href="./Upgrade.html">Upgrading to v4</a></li>
</ul>

<ul><div>App Configuration</div>
  <li  class="beginner" ><a class="nav-link" href="./Admin.html"><code>&lt;Admin&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./Resource.html"><code>&lt;Resource&gt;</code></a></li>
  <li ><a class="nav-link" href="./CustomRoutes.html"><code>&lt;CustomRoutes&gt;</code></a></li>
</ul>

<ul><div>Data Fetching</div>
  <li  class="beginner" ><a class="nav-link" href="./DataProviders.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./DataProviderList.html">Supported backends</a></li>
  <li ><a class="nav-link" href="./DataProviderWriting.html">Writing A Data Provider</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Actions.html">Querying the API</a></li>
  <li ><a class="nav-link" href="./DataProviderLive.html">Real-time Updates &amp; Locks<img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useDataProvider.html"><code>useDataProvider</code></a></li>
  <li ><a class="nav-link" href="./useGetList.html"><code>useGetList</code></a></li>
  <li ><a class="nav-link" href="./useInfiniteGetList.html"><code>useInfiniteGetList</code></a></li>
  <li ><a class="nav-link" href="./useGetOne.html"><code>useGetOne</code></a></li>
  <li ><a class="nav-link" href="./useGetMany.html"><code>useGetMany</code></a></li>
  <li ><a class="nav-link" href="./useGetManyReference.html"><code>useGetManyReference</code></a></li>
  <li ><a class="nav-link" href="./useCreate.html"><code>useCreate</code></a></li>
  <li ><a class="nav-link" href="./useUpdate.html"><code>useUpdate</code></a></li>
  <li ><a class="nav-link" href="./useUpdateMany.html"><code>useUpdateMany</code></a></li>
  <li ><a class="nav-link" href="./useDelete.html"><code>useDelete</code></a></li>
  <li ><a class="nav-link" href="./useDeleteMany.html"><code>useDeleteMany</code></a></li>
  <li ><a class="nav-link" href="./useGetTree.html"><code>useGetTree</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./withLifecycleCallbacks.html"><code>withLifecycleCallbacks</code></a></li>
  <li ><a class="nav-link" href="./fetchJson.html"><code>fetchJson</code></a></li>
</ul>

<ul><div>Security</div>
  <li  class="beginner" ><a class="nav-link" href="./Authentication.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./AuthProviderList.html">Supported backends</a></li>
  <li  class="beginner" ><a class="nav-link" href="./AuthProviderWriting.html">Writing An Auth Provider</a></li>
  <li ><a class="nav-link" href="./Permissions.html">Permissions</a></li>
  <li  class="active" ><a class="nav-link" href="./AuthRBAC.html">RBAC<img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Authenticated.html"><code>&lt;Authenticated&gt;</code></a></li>
  <li ><a class="nav-link" href="./IfCanAccess.html"><code>&lt;IfCanAccess&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./WithPermissions.html"><code>&lt;WithPermissions&gt;</code></a></li>
  <li ><a class="nav-link" href="./useAuthProvider.html"><code>useAuthProvider</code></a></li>
  <li ><a class="nav-link" href="./useAuthenticated.html"><code>useAuthenticated</code></a></li>
  <li ><a class="nav-link" href="./useAuthState.html"><code>useAuthState</code></a></li>
  <li ><a class="nav-link" href="./useGetIdentity.html"><code>useGetIdentity</code></a></li>
  <li ><a class="nav-link" href="./useLogin.html"><code>useLogin</code></a></li>
  <li ><a class="nav-link" href="./useLogout.html"><code>useLogout</code></a></li>
  <li ><a class="nav-link" href="./usePermissions.html"><code>usePermissions</code></a></li>
  <li ><a class="nav-link" href="./useCanAccess.html"><code>useCanAccess</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./canAccess.html"><code>canAccess</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./addRefreshAuthToAuthProvider.html"><code>addRefreshAuthToAuthProvider</code></a></li>
  <li ><a class="nav-link" href="./addRefreshAuthToDataProvider.html"><code>addRefreshAuthToDataProvider</code></a></li>
</ul>

<ul><div>List Page</div>
  <li  class="beginner" ><a class="nav-link" href="./ListTutorial.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./FilteringTutorial.html">Filtering The List</a></li>
  <li  class="beginner" ><a class="nav-link" href="./List.html"><code>&lt;List&gt;</code></a></li>
  <li ><a class="nav-link" href="./ListBase.html"><code>&lt;ListBase&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ListGuesser.html"><code>&lt;ListGuesser&gt;</code></a></li>
  <li ><a class="nav-link" href="./InfiniteList.html"><code>&lt;InfiniteList&gt;</code></a></li>
  <li ><a class="nav-link" href="./TreeWithDetails.html"><code>&lt;TreeWithDetails&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./Datagrid.html"><code>&lt;Datagrid&gt;</code></a></li>
  <li ><a class="nav-link" href="./DatagridAG.html"><code>&lt;DatagridAG&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SimpleList.html"><code>&lt;SimpleList&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SingleFieldList.html"><code>&lt;SingleFieldList&gt;</code></a></li>
  <li ><a class="nav-link" href="./EditableDatagrid.html"><code>&lt;EditableDatagrid&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Calendar.html"><code>&lt;Calendar&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./FilterButton.html"><code>&lt;FilterButton&gt;</code></a></li>
  <li ><a class="nav-link" href="./FilterList.html"><code>&lt;FilterList&gt;</code></a></li>
  <li ><a class="nav-link" href="./FilterLiveSearch.html"><code>&lt;FilterLiveSearch&gt;</code></a></li>
  <li ><a class="nav-link" href="./SavedQueriesList.html"><code>&lt;SavedQueriesList&gt;</code></a></li>
  <li ><a class="nav-link" href="./StackedFilters.html"><code>&lt;StackedFilters&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Pagination.html"><code>&lt;Pagination&gt;</code></a></li>
  <li ><a class="nav-link" href="./SortButton.html"><code>&lt;SortButton&gt;</code></a></li>
  <li ><a class="nav-link" href="./SelectColumnsButton.html"><code>&lt;SelectColumnsButton&gt;</code></a></li>
  <li ><a class="nav-link" href="./Count.html"><code>&lt;Count&gt;</code></a></li>
  <li ><a class="nav-link" href="./WithListContext.html"><code>&lt;WithListContext&gt;</code></a></li>
  <li ><a class="nav-link" href="./useListContext.html"><code>useListContext</code></a></li>
  <li ><a class="nav-link" href="./useList.html"><code>useList</code></a></li>
  <li ><a class="nav-link" href="./useListController.html"><code>useListController</code></a></li>
  <li ><a class="nav-link" href="./useUnselect.html"><code>useUnselect</code></a></li>
  <li ><a class="nav-link" href="./useUnselectAll.html"><code>useUnselectAll</code></a></li>
</ul>

<ul><div>Creation & Edition Pages</div>
  <li  class="beginner" ><a class="nav-link" href="./EditTutorial.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Validation.html">Form Validation</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Create.html"><code>&lt;Create&gt;</code></a></li>
  <li ><a class="nav-link" href="./CreateBase.html"><code>&lt;CreateBase&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./Edit.html"><code>&lt;Edit&gt;</code></a></li>
  <li ><a class="nav-link" href="./EditBase.html"><code>&lt;EditBase&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./EditGuesser.html"><code>&lt;EditGuesser&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SimpleForm.html"><code>&lt;SimpleForm&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./TabbedForm.html"><code>&lt;TabbedForm&gt;</code></a></li>
  <li ><a class="nav-link" href="./Form.html"><code>&lt;Form&gt;</code></a></li>
  <li ><a class="nav-link" href="./LongForm.html"><code>&lt;LongForm&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./AccordionForm.html"><code>&lt;AccordionForm&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./WizardForm.html"><code>&lt;WizardForm&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./EditDialog.html"><code>&lt;EditDialog&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./EditInDialogButton.html"><code>&lt;EditInDialogButton&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./CreateDialog.html"><code>&lt;CreateDialog&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./CreateInDialogButton.html"><code>&lt;CreateInDialogButton&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./JsonSchemaForm.html"><code>&lt;JsonSchemaForm&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Toolbar.html"><code>&lt;Toolbar&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SaveButton.html"><code>&lt;SaveButton&gt;</code></a></li>
  <li ><a class="nav-link" href="./AutoSave.html"><code>&lt;AutoSave&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useCreateContext.html"><code>useCreateContext</code></a></li>
  <li ><a class="nav-link" href="./useCreateController.html"><code>useCreateController</code></a></li>
  <li ><a class="nav-link" href="./useEditContext.html"><code>useEditContext</code></a></li>
  <li ><a class="nav-link" href="./useEditController.html"><code>useEditController</code></a></li>
  <li ><a class="nav-link" href="./useSaveContext.html"><code>useSaveContext</code></a></li>
  <li ><a class="nav-link" href="./useRegisterMutationMiddleware.html"><code>useRegisterMutationMiddleware</code></a></li>
  <li ><a class="nav-link" href="./useUnique.html"><code>useUnique</code></a></li>
</ul>

<ul><div>Show Page</div>
  <li  class="beginner" ><a class="nav-link" href="./ShowTutorial.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./Show.html"><code>&lt;Show&gt;</code></a></li>
  <li ><a class="nav-link" href="./ShowBase.html"><code>&lt;ShowBase&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ShowGuesser.html"><code>&lt;ShowGuesser&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SimpleShowLayout.html"><code>&lt;SimpleShowLayout&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./TabbedShowLayout.html"><code>&lt;TabbedShowLayout&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./Labeled.html"><code>&lt;Labeled&gt;</code></a></li>
  <li ><a class="nav-link" href="./ShowInDialogButton.html"><code>&lt;ShowInDialogButton&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useShowContext.html"><code>useShowContext</code></a></li>
  <li ><a class="nav-link" href="./useShowController.html"><code>useShowController</code></a></li>
</ul>

<ul><div>Common</div>
  <li  class="beginner" ><a class="nav-link" href="./WithRecord.html"><code>&lt;WithRecord&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./useRecordContext.html"><code>useRecordContext</code></a></li>
  <li ><a class="nav-link" href="./useGetRecordId.html"><code>useGetRecordId</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./useNotify.html"><code>useNotify</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./useRedirect.html"><code>useRedirect</code></a></li>
  <li ><a class="nav-link" href="./useRefresh.html"><code>useRefresh</code></a></li>
</ul>

<ul><div>Fields</div>
  <li  class="beginner" ><a class="nav-link" href="./Fields.html">Introduction</a></li>
  <li ><a class="nav-link" href="./FieldsForRelationships.html">Fields for Relationships</a></li>
  <li  class="beginner" ><a class="nav-link" href="./ArrayField.html"><code>&lt;ArrayField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./BooleanField.html"><code>&lt;BooleanField&gt;</code></a></li>
  <li ><a class="nav-link" href="./ChipField.html"><code>&lt;ChipField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./DateField.html"><code>&lt;DateField&gt;</code></a></li>
  <li ><a class="nav-link" href="./EmailField.html"><code>&lt;EmailField&gt;</code></a></li>
  <li ><a class="nav-link" href="./FileField.html"><code>&lt;FileField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./FunctionField.html"><code>&lt;FunctionField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ImageField.html"><code>&lt;ImageField&gt;</code></a></li>
  <li ><a class="nav-link" href="./MarkdownField.html"><code>&lt;MarkdownField&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./NumberField.html"><code>&lt;NumberField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ReferenceField.html"><code>&lt;ReferenceField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ReferenceArrayField.html"><code>&lt;ReferenceArrayField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ReferenceManyField.html"><code>&lt;ReferenceManyField&gt;</code></a></li>
  <li ><a class="nav-link" href="./ReferenceManyCount.html"><code>&lt;ReferenceManyCount&gt;</code></a></li>
  <li ><a class="nav-link" href="./ReferenceManyToManyField.html"><code>&lt;ReferenceManyToManyField&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./ReferenceOneField.html"><code>&lt;ReferenceOneField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./RichTextField.html"><code>&lt;RichTextField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SelectField.html"><code>&lt;SelectField&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./TextField.html"><code>&lt;TextField&gt;</code></a></li>
  <li ><a class="nav-link" href="./TranslatableFields.html"><code>&lt;TranslatableFields&gt;</code></a></li>
  <li ><a class="nav-link" href="./UrlField.html"><code>&lt;UrlField&gt;</code></a></li>
  <li ><a class="nav-link" href="./WrapperField.html"><code>&lt;WrapperField&gt;</code></a></li>
</ul>

<ul><div>Inputs</div>
  <li  class="beginner" ><a class="nav-link" href="./Inputs.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./ArrayInput.html"><code>&lt;ArrayInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./AutocompleteInput.html"><code>&lt;AutocompleteInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./AutocompleteArrayInput.html"><code>&lt;AutocompleteArrayInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./BooleanInput.html"><code>&lt;BooleanInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./CheckboxGroupInput.html"><code>&lt;CheckboxGroupInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./DateInput.html"><code>&lt;DateInput></code></a></li>
  <li ><a class="nav-link" href="./DateTimeInput.html"><code>&lt;DateTimeInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./DualListInput.html"><code>&lt;DualListInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./FileInput.html"><code>&lt;FileInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./ImageInput.html"><code>&lt;ImageInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./MarkdownInput.html"><code>&lt;MarkdownInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./NullableBooleanInput.html"><code>&lt;NullableBooleanInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./NumberInput.html"><code>&lt;NumberInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./PasswordInput.html"><code>&lt;PasswordInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./PredictiveTextInput.html"><code>&lt;PredictiveTextInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./RadioButtonGroupInput.html"><code>&lt;RadioButtonGroupInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ReferenceInput.html"><code>&lt;ReferenceInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./ReferenceArrayInput.html"><code>&lt;ReferenceArrayInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./ReferenceManyInput.html"><code>&lt;ReferenceManyInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./ReferenceManyToManyInput.html"><code>&lt;ReferenceManyToManyInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./ReferenceNodeInput.html"><code>&lt;ReferenceNodeInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./ReferenceOneInput.html"><code>&lt;ReferenceOneInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./RichTextInput.html"><code>&lt;RichTextInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SearchInput.html"><code>&lt;SearchInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SelectInput.html"><code>&lt;SelectInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SelectArrayInput.html"><code>&lt;SelectArrayInput&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./SimpleFormIterator.html"><code>&lt;SimpleFormIterator&gt;</code></a></li>
  <li ><a class="nav-link" href="./SmartRichTextInput.html"><code>&lt;SmartRichTextInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./TextInput.html"><code>&lt;TextInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./TimeInput.html"><code>&lt;TimeInput&gt;</code></a></li>
  <li ><a class="nav-link" href="./TranslatableInputs.html"><code>&lt;TranslatableInputs&gt;</code></a></li>
  <li ><a class="nav-link" href="./TreeInput.html"><code>&lt;TreeInput&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useInput.html"><code>useInput</code></a></li>
</ul>

<ul><div>Preferences</div>
  <li ><a class="nav-link" href="./Store.html">Introduction</a></li>
  <li ><a class="nav-link" href="./useStore.html"><code>useStore</code></a></li>
  <li ><a class="nav-link" href="./useRemoveFromStore.html"><code>useRemoveFromStore</code></a></li>
  <li ><a class="nav-link" href="./useResetStore.html"><code>useResetStore</code></a></li>
  <li ><a class="nav-link" href="./useStoreContext.html"><code>useStoreContext</code></a></li>
  <li ><a class="nav-link" href="./Configurable.html"><code>&lt;Configurable&gt;</code></a></li>
</ul>

<ul><div>I18N Provider and Translations</div>
  <li ><a class="nav-link" href="./Translation.html">Introduction</a></li>
  <li ><a class="nav-link" href="./TranslationSetup.html">Setting Up</a></li>
  <li ><a class="nav-link" href="./TranslationLocales.html">Supported Locales</a></li>
  <li ><a class="nav-link" href="./TranslationTranslating.html">Translating UI Components</a></li>
  <li ><a class="nav-link" href="./TranslationWriting.html">Writing an i18nProvider</a></li>
  <li ><a class="nav-link" href="./useTranslate.html"><code>useTranslate</code></a></li>
  <li ><a class="nav-link" href="./useLocaleState.html"><code>useLocaleState</code></a></li>
  <li ><a class="nav-link" href="./LocalesMenuButton.html"><code>&lt;LocalesMenuButton&gt;</code></a></li>
</ul>

<ul><div>Other UI components</div>
  <li  class="beginner" ><a class="nav-link" href="./Layout.html"><code>&lt;Layout&gt;</code></a></li>
  <li ><a class="nav-link" href="./ContainerLayout.html"><code>&lt;ContainerLayout&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./SolarLayout.html"><code>&lt;SolarLayout&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li  class="beginner" ><a class="nav-link" href="./AppBar.html"><code>&lt;AppBar&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./Menu.html"><code>&lt;Menu&gt;</code></a></li>
  <li ><a class="nav-link" href="./MultiLevelMenu.html"><code>&lt;MultiLevelMenu&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./IconMenu.html"><code>&lt;IconMenu&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Title.html"><code>&lt;Title&gt;</code></a></li>
  <li ><a class="nav-link" href="./Breadcrumb.html"><code>&lt;Breadcrumb&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Search.html"><code>&lt;Search&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./SearchWithResult.html"><code>&lt;SearchWithResult&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./Confirm.html"><code>&lt;Confirm&gt;</code></a></li>
  <li  class="beginner" ><a class="nav-link" href="./Buttons.html">Buttons</a></li>
  <li ><a class="nav-link" href="./RevisionsButton.html"><code>&lt;RevisionsButton&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./CheckForApplicationUpdate.html"><code>&lt;CheckForApplicationUpdate&gt;</code></a></li>
  <li ><a class="nav-link" href="./UpdateButton.html"><code>&lt;UpdateButton&gt;</code></a></li>
  <li ><a class="nav-link" href="./RecordRepresentation.html"><code>&lt;RecordRepresentation&gt;</code></a></li>
  <li ><a class="nav-link" href="./PrevNextButtons.html"><code>&lt;PrevNextButtons&gt;</code></a></li>
  <li ><a class="nav-link" href="./useDefineAppLocation.html"><code>useDefineAppLocation</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetRecordRepresentation.html"><code>useGetRecordRepresentation</code></a></li>
</ul>

<ul><div>Theming</div>
  <li  class="beginner" ><a class="nav-link" href="./Theming.html">Introduction</a></li>
  <li  class="beginner" ><a class="nav-link" href="./SX.html">The <code>sx</code> prop</a></li>
  <li  class="beginner" ><a class="nav-link" href="./AppTheme.html">Application Theme</a></li>
  <li ><a class="nav-link" href="./BoxStackGrid.html"><code>&lt;Box&gt;</code>, <code>&lt;Stack&gt;</code> and <code>&lt;Grid&gt;</code></a></li>
  <li ><a class="nav-link" href="./ToggleThemeButton.html"><code>&lt;ToggleThemeButton&gt;</code></a></li>
  <li ><a class="nav-link" href="./useMediaQuery.html"><code>useMediaQuery</code></a></li>
  <li ><a class="nav-link" href="./useTheme.html"><code>useTheme</code></a></li>
</ul>

<ul><div>Realtime</div>
  <li ><a class="nav-link" href="./Realtime.html">Introduction</a></li>
  <li ><a class="nav-link" href="./RealtimeDataProvider.html">Data Provider Requirements</a></li>
  <li ><a class="nav-link" href="./usePublish.html"><code>usePublish</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useSubscribe.html"><code>useSubscribe</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useSubscribeCallback.html"><code>useSubscribeCallback</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useSubscribeToRecord.html"><code>useSubscribeToRecord</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useSubscribeToRecordList.html"><code>useSubscribeToRecordList</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useLock.html"><code>useLock</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useUnlock.html"><code>useUnlock</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetLock.html"><code>useGetLock</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetLockLive.html"><code>useGetLockLive</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetLocks.html"><code>useGetLocks</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetLocksLive.html"><code>useGetLocksLive</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useLockOnMount.html"><code>useLockOnMount</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useLockOnCall.html"><code>useLockOnCall</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetListLive.html"><code>useGetListLive</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./useGetOneLive.html"><code>useGetOneLive</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./ListLive.html"><code>&lt;ListLive&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./EditLive.html"><code>&lt;EditLive&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./ShowLive.html"><code>&lt;ShowLive&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
  <li ><a class="nav-link" href="./MenuLive.html"><code>&lt;MenuLive&gt;</code><img class="premium" src="./img/premium.svg" /></a></li>
</ul>

<ul><div>Recipes</div>
  <li ><a class="nav-link" href="./Caching.html">Caching</a></li>
  <li ><a class="nav-link" href="./Routing.html">Routing</a></li>
  <li ><a class="nav-link" href="./UnitTesting.html">Unit Testing</a></li>
  <li ><a class="nav-link" href="./AdvancedTutorials.html">Advanced tutorials</a></li>
</ul>

<li ><a class="nav-link" href="./Ecosystem.html">Ecosystem</a></li>
<li ><a class="nav-link" href="./FAQ.html">FAQ</a></li>
<li  class="beginner" ><a class="nav-link" href="./Reference.html">Index</a></li>

<div class="beginner-mode-on" style="margin:1em;padding:1em;background:#ffffca;border-radius:4px;display:none;font-size:0.8em;opacity:0.8;text-align:center;">
  <a href="#beginner-mode">Beginner mode is on</a>. Turn it off to reveal more documentation for advanced components.
</div>

            </ul>
        </header>

        <main>
            <div class="container sticker-container">
                <div class="row">
                    <div class="col s12 m9">
                        <div
                            class="markdown-section DocSearch-content toc-content"
                        >
                            <h1 id="role-based-access-control-rbac">Role-Based Access Control (RBAC)</h1>

<p>React-admin Enterprise Edition contains <a href="https://marmelab.com/ra-enterprise/modules/ra-rbac">the ra-rbac module</a><img class="icon" src="./img/premium.svg" />, which adds fine-grained permissions to your admin. This module extends the <code class="language-plaintext highlighter-rouge">authProvider</code> and adds replacement for many react-admin components that use these permissions.</p>

<video controls="controls" style="max-width: 96%">
    <source src="./img/ra-rbac.mp4" type="video/mp4" />
</video>

<p>Test it live in the <a href="https://storybook.ra-enterprise.marmelab.com/?path=/story/ra-rbac-full-app--full-app">Enterprise Edition Storybook</a>.</p>

<p>You can define permissions for pages, fields, buttons, etc. Roles and permissions are managed by the <code class="language-plaintext highlighter-rouge">authProvider</code>, which means you can use any data source you want (including an ActiveDirectory server).</p>

<p>The above demo uses the following set of permissions:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">roles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">accountant</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">show</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.*</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">categories</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">categories.*</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">show</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">customers</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">customers.*</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">invoices</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">],</span>
    <span class="na">contentEditor</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">create</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">export</span><span class="dl">'</span><span class="p">],</span>
            <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.*</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.stock</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.sales</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.*</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.stock</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.sales</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">categories</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">customers</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">reviews</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">],</span>
    <span class="na">stockManager</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">export</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.*</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.description</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.stock</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.sales</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">categories</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">],</span>
    <span class="na">administrator</span><span class="p">:</span> <span class="p">[{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span> <span class="p">}],</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="installation">Installation</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install --save @react-admin/ra-rbac
# or
yarn add @react-admin/ra-rbac
</code></pre></div></div>

<p>Make sure you <a href="https://marmelab.com/react-admin/Authentication.html#enabling-auth-features">enable auth features</a> by setting an <code class="language-plaintext highlighter-rouge">&lt;Admin authProvider&gt;</code>, and <a href="https://marmelab.com/react-admin/Authentication.html#disabling-anonymous-access">disable anonymous access</a> by adding the <code class="language-plaintext highlighter-rouge">&lt;Admin requireAuth&gt;</code> prop. This will ensure that react-admin waits for the <code class="language-plaintext highlighter-rouge">authProvider</code> response before rendering anything.</p>

<p><strong>Tip</strong>: ra-rbac is part of the <a href="https://marmelab.com/ra-enterprise/">React-Admin Enterprise Edition</a>, and hosted in a private npm registry. You need to subscribe to one of the Enterprise Edition plans to access this package.</p>

<h2 id="concepts">Concepts</h2>

<h3 id="pessimistic-strategy">Pessimistic Strategy</h3>

<p>React-admin treats permissions in an optimistic way: While it fetches permissions from the authProvider, react-admin renders all components. If the authProvider returns a limited set of permissions, users may briefly see content they don’t have access to.</p>

<p>Ra-rbac takes the opposite strategy: while permissions are loading, react-admin doesn’t render the components that require permissions, assuming that these components are restricted by default.</p>

<p>It’s only when ra-rbac is sure that the user has the right permissions that it renders the content.</p>

<h3 id="principle-of-least-privilege">Principle Of Least Privilege</h3>

<p>A user with no permissions has access to nothing. By default, any restricted action is accessible to nobody. This is also called an “implicit deny”.</p>

<p>To put it otherwise, only users with the right permissions can execute an action on a resource and a record.</p>

<p>Permissions are additive, each permission granting access to a subset of the application.</p>

<h3 id="roles-and-permissions">Roles And Permissions</h3>

<p>A <em>permission</em> is an object that represents a subset of the application. It is defined by a <code class="language-plaintext highlighter-rouge">resource</code> (usually a noun) and an <code class="language-plaintext highlighter-rouge">action</code> (usually a verb), with sometimes an additional <code class="language-plaintext highlighter-rouge">record</code>.</p>

<p>Here are a few examples of permissions:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">{ action: "*", resource: "*" }</code>: allow everything</li>
  <li><code class="language-plaintext highlighter-rouge">{ action: "read", resource: "*" }</code>: allow read actions on all resources</li>
  <li><code class="language-plaintext highlighter-rouge">{ action: ["read", "create", "edit", "export"], resource: "companies" }</code>: allow all actions except delete on companies</li>
  <li><code class="language-plaintext highlighter-rouge">{ action: ["write"], resource: "game.score", record: { "id": "123" } }</code>: allow to change the score on a particular game</li>
</ul>

<p><strong>Tip</strong>: When the <code class="language-plaintext highlighter-rouge">record</code> field is omitted, the permission is valid for all records.</p>

<p>A <em>role</em> is a string that represents a responsibility. Examples of roles include “admin”, “reader”, “moderator”, and “guest”. A user can have one or more roles.</p>

<p>A <em>role definition</em> is an array of permissions. It lists the operations that a user with that role can perform.</p>

<p>Here are a few example role definitions:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// the admin role has all the permissions</span>
<span class="kd">const</span> <span class="nx">adminRole</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span> <span class="p">}</span>
<span class="p">];</span>

<span class="c1">// the reader role can only read content, not create, edit or delete it</span>
<span class="kd">const</span> <span class="nx">readerRole</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span> <span class="p">}</span>
<span class="p">];</span>

<span class="c1">// fine-grained permissions on a per resource basis</span>
<span class="kd">const</span> <span class="nx">salesRole</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">create</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">edit</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">export</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">companies</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">create</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">edit</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">people</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">create</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">edit</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">export</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">deals</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">create</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">comments</span><span class="dl">"</span> <span class="p">},,</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">create</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">tasks</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">write</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">tasks.completed</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">];</span>

<span class="c1">// permissions can be restricted to a specific list of records, and are additive</span>
<span class="kd">const</span> <span class="nx">corrector123Role</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1">// can only grade the assignments assigned to him</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">export</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">edit</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">grade</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">assignments</span><span class="dl">"</span><span class="p">,</span> <span class="na">record</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">supervisor_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">123</span><span class="dl">"</span> <span class="p">}</span> <span class="p">},</span>
    <span class="c1">// can see the general stats page</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">stats</span><span class="dl">"</span> <span class="p">},</span>
    <span class="c1">// can see the profile of every corrector</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">correctors</span><span class="dl">"</span> <span class="p">},</span>
    <span class="c1">// can edit his own profile</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">write</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">correctors</span><span class="dl">"</span><span class="p">,</span> <span class="na">record</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">123</span><span class="dl">"</span> <span class="p">}</span> <span class="p">},</span>
<span class="p">];</span>
</code></pre></div></div>

<p><strong>Tip</strong>: The <em>order</em> of permissions isn’t significant. As soon as at least one permission grants access to an action on a resource, ra-rbac grant access to it - unless there is an <a href="#explicit-deny">explicit deny</a>.</p>

<p>The RBAC system relies on <em>permissions</em> only. It’s the <code class="language-plaintext highlighter-rouge">authProvider</code>’s responsibility to map roles to permissions. See the <a href="#authprovider-methods"><code class="language-plaintext highlighter-rouge">authProvider</code> Methods</a> section for details.</p>

<h3 id="record-level-permissions">Record-Level Permissions</h3>

<p>By default, a permission applies to all records of a resource.</p>

<p>A permission can be restricted to a specific record or a specific set of records. Setting the <code class="language-plaintext highlighter-rouge">record</code> field in a permission restricts the application of that permissions to records matching that criteria (using <a href="https://lodash.com/docs/4.17.15#isMatch">lodash <code class="language-plaintext highlighter-rouge">isMatch</code></a>).</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// can read all users, without record restriction</span>
<span class="kd">const</span> <span class="nx">perm1</span> <span class="o">=</span> <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">users</span><span class="dl">"</span> <span class="p">};</span>
<span class="c1">// can write only user of id 123</span>
<span class="kd">const</span> <span class="nx">perm2</span> <span class="o">=</span> <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">write</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">,</span> <span class="na">record</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">123</span><span class="dl">"</span> <span class="p">}</span> <span class="p">};</span>
<span class="c1">// can access only comments by user of id 123</span>
<span class="kd">const</span> <span class="nx">perm3</span> <span class="o">=</span> <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">comments</span><span class="dl">"</span><span class="p">,</span> <span class="na">record</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">123</span><span class="dl">"</span> <span class="p">}</span> <span class="p">};</span>
</code></pre></div></div>

<h3 id="explicit-deny">Explicit Deny</h3>

<p>Some users may have access to all resources but one. Instead of having to list all the resources they have access to, you can use a special permission with the “deny” type that explicitly denies access to a resource.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">allProductsButStock</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.*</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.stock</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">deny</span><span class="dl">'</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.sales</span><span class="dl">'</span> <span class="p">},</span>
<span class="p">];</span>
<span class="c1">// is equivalent to</span>
<span class="kd">const</span> <span class="nx">allProductsButStock</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.category_id</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.price</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.description</span><span class="dl">'</span> <span class="p">},</span>
<span class="p">];</span>
</code></pre></div></div>

<p><strong>Tip</strong>: Deny permissions are evaluated first, no matter in which order the permissions are defined.</p>

<h2 id="authprovider-methods"><code class="language-plaintext highlighter-rouge">authProvider</code> Methods</h2>

<p>Ra-rbac builds up on react-admin’s <code class="language-plaintext highlighter-rouge">authProvider</code> API. It precises the return format of the <code class="language-plaintext highlighter-rouge">getPermissions()</code> method which must return a promise for an array of permissions objects.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">write</span><span class="dl">"</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">,</span> <span class="na">record</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">123</span><span class="dl">"</span> <span class="p">}</span> <span class="p">},</span>
    <span class="p">])</span>
<span class="p">};</span>
</code></pre></div></div>

<p>For every restricted resource, ra-rbac calls <code class="language-plaintext highlighter-rouge">authProvider.getPermissions()</code> to get the permissions.</p>

<p>In practice, most auth providers get the permissions as a response from the login query, and store these permissions in memory or localStorage. When a component calls <code class="language-plaintext highlighter-rouge">authProvider.getPermissions()</code>, the auth provider only needs to read from that local copy of the permissions.</p>

<p><code class="language-plaintext highlighter-rouge">authProvider.getPermissions()</code> doesn’t return roles - only permissions. Usually, the role definitions are committed with the application code, as a constant. The roles of the current user are fetched at login, and the permissions are computed from the roles and the role definitions.</p>

<p>You can use the <code class="language-plaintext highlighter-rouge">getPermissionsFromRoles</code> helper in the <code class="language-plaintext highlighter-rouge">authProvider</code> to compute the permissions that the user has based on their permissions. This function takes an object as argument with the following fields:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">roleDefinitions</code>: a static object containing the role definitions for each role</li>
  <li><code class="language-plaintext highlighter-rouge">userRoles</code> <em>(optional)</em>: an array of roles (admin, reader…) for the current user</li>
  <li><code class="language-plaintext highlighter-rouge">userPermissions</code> <em>(optional)</em>: an array of permissions for the current user, to be added to the permissions computed from the roles</li>
</ul>

<p>Here is an example <code class="language-plaintext highlighter-rouge">authProvider</code> implementation following this pattern:</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">getPermissionsFromRoles</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">roleDefinitions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">admin</span><span class="p">:</span> <span class="p">[{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span> <span class="p">}],</span>
    <span class="na">reader</span><span class="p">:</span> <span class="p">[{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span> <span class="p">}],</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">login</span><span class="p">:</span> <span class="p">({</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">password</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Request</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://mydomain.com/authenticate</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">password</span> <span class="p">}),</span>
            <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">({</span> <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span> <span class="p">}),</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">200</span> <span class="o">||</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">300</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
            <span class="p">})</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="c1">// data is like</span>
                <span class="c1">// {</span>
                <span class="c1">//     "id": 123,</span>
                <span class="c1">//     "fullName": "John Doe",</span>
                <span class="c1">//     "permissions": [</span>
                <span class="c1">//          { action: ["read", "write"], resource: "users", record: { id: "123" } },</span>
                <span class="c1">//      ]</span>
                <span class="c1">//     "roles": ["admin", "reader"],</span>
                <span class="c1">// }</span>
                <span class="kd">const</span> <span class="nx">permissions</span> <span class="o">=</span> <span class="nx">getPermissionsFromRoles</span><span class="p">({</span>
                    <span class="nx">roleDefinitions</span><span class="p">,</span>
                    <span class="na">userPermissions</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">permissions</span><span class="p">,</span>
                    <span class="na">userRoles</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">roles</span><span class="p">,</span>
                <span class="p">});</span>
                <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span>
                    <span class="dl">'</span><span class="s1">permissions</span><span class="dl">'</span><span class="p">,</span>
                    <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">permissions</span><span class="p">)</span>
                <span class="p">);</span>
            <span class="p">});</span>
    <span class="p">},</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">permissions</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">permissions</span><span class="dl">'</span><span class="p">));</span>
        <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">permissions</span><span class="p">);</span>
    <span class="p">},</span>
<span class="p">};</span>
</code></pre></div></div>

<p><strong>Tip</strong>: If you have to rely on the server for roles and permissions, check out <a href="#performance">the Performance section</a> below.</p>

<h2 id="hooks">Hooks</h2>

<p>Ra-rbac provides hooks to enable or disable features based on roles and permissions.</p>

<ul>
  <li><a href="./usePermissions.md"><code class="language-plaintext highlighter-rouge">usePermissions()</code></a> returns the current permissions.</li>
  <li><a href="./useCanAccess.md"><code class="language-plaintext highlighter-rouge">useCanAccess()</code></a> returns a boolean indicating whether the user has access to the given resource.</li>
</ul>

<h2 id="components">Components</h2>

<p>Ra-rbac provides alternative components to react-admin base components. These alternative components include role-based access control and are as follows:</p>

<ul>
  <li>Main
    <ul>
      <li><a href="#resource"><code class="language-plaintext highlighter-rouge">&lt;Resource&gt;</code></a></li>
      <li><a href="#menu"><code class="language-plaintext highlighter-rouge">&lt;Menu&gt;</code></a></li>
    </ul>
  </li>
  <li>List
    <ul>
      <li><a href="#list"><code class="language-plaintext highlighter-rouge">&lt;List&gt;</code></a></li>
      <li><a href="#listactions"><code class="language-plaintext highlighter-rouge">&lt;ListActions&gt;</code></a></li>
      <li><a href="#datagrid"><code class="language-plaintext highlighter-rouge">&lt;Datagrid&gt;</code></a></li>
    </ul>
  </li>
  <li>Detail
    <ul>
      <li><a href="#edit"><code class="language-plaintext highlighter-rouge">&lt;Edit&gt;</code></a></li>
      <li><a href="#show"><code class="language-plaintext highlighter-rouge">&lt;Show&gt;</code></a></li>
      <li><a href="#simpleshowlayout"><code class="language-plaintext highlighter-rouge">&lt;SimpleShowLayout&gt;</code></a></li>
      <li><a href="#tab"><code class="language-plaintext highlighter-rouge">&lt;Tab&gt;</code></a></li>
    </ul>
  </li>
  <li>Form
    <ul>
      <li><a href="#simpleform"><code class="language-plaintext highlighter-rouge">&lt;SimpleForm&gt;</code></a></li>
      <li><a href="#tabbedform"><code class="language-plaintext highlighter-rouge">&lt;TabbedForm&gt;</code></a></li>
      <li><a href="#formtab"><code class="language-plaintext highlighter-rouge">&lt;FormTab&gt;</code></a></li>
      <li><a href="#accordionform"><code class="language-plaintext highlighter-rouge">&lt;AccordionForm&gt;</code></a></li>
      <li><a href="#accordionsection"><code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code></a></li>
      <li><a href="#longform"><code class="language-plaintext highlighter-rouge">&lt;LongForm&gt;</code></a></li>
      <li><a href="#wizardform"><code class="language-plaintext highlighter-rouge">&lt;WizardForm&gt;</code></a></li>
    </ul>
  </li>
</ul>

<h2 id="accordionform"><code class="language-plaintext highlighter-rouge">&lt;AccordionForm&gt;</code></h2>

<p>Alternative to react-admin’s <a href="https://marmelab.com/react-admin/AccordionForm.html"><code class="language-plaintext highlighter-rouge">&lt;AccordionForm&gt;</code></a> that adds RBAC control to the accordions, the inputs, and the delete button.</p>

<p>This component is provided by the <code class="language-plaintext highlighter-rouge">@react-admin/ra-enterprise</code> package.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Edit</span><span class="p">,</span> <span class="nx">TextInput</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">AccordionForm</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-enterprise</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.description' is missing</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.image' is missing</span>
        <span class="c1">// note that the panel with the name 'description' will be displayed</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.panel.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// note that the panel with the name 'images' will be displayed</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.panel.images</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.panel.stock' is missing</span>
    <span class="p">]),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductEdit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Edit</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">AccordionForm</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">AccordionForm</span><span class="p">.</span><span class="nc">Panel</span> <span class="na">label</span><span class="p">=</span><span class="s">"Description"</span> <span class="na">name</span><span class="p">=</span><span class="s">"description"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">AccordionForm</span><span class="p">.</span><span class="nc">Panel</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">AccordionForm</span><span class="p">.</span><span class="nc">Panel</span> <span class="na">label</span><span class="p">=</span><span class="s">"Images"</span> <span class="na">name</span><span class="p">=</span><span class="s">"images"</span><span class="p">&gt;</span>
                <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">AccordionForm</span><span class="p">.</span><span class="nc">Panel</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">AccordionForm</span><span class="p">.</span><span class="nc">Panel</span> <span class="na">label</span><span class="p">=</span><span class="s">"Stock"</span> <span class="na">name</span><span class="p">=</span><span class="s">"stock"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">AccordionForm</span><span class="p">.</span><span class="nc">Panel</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* delete button not displayed */</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">AccordionForm</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Edit</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p><strong>Tip</strong>: You must add a <code class="language-plaintext highlighter-rouge">name</code> prop to the <code class="language-plaintext highlighter-rouge">&lt;AccordionForm.Panel&gt;</code> so you can reference it in the permissions.
Then, to allow users to access a particular <code class="language-plaintext highlighter-rouge">&lt;AccordionForm.Panel&gt;</code>, update the permissions definition as follows: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: '{RESOURCE}.panel.{NAME}' }</code>, where <code class="language-plaintext highlighter-rouge">RESOURCE</code> is the resource name, and <code class="language-plaintext highlighter-rouge">NAME</code> the name you provided to the <code class="language-plaintext highlighter-rouge">&lt;FormTab&gt;</code>.</p>

<p>For instance, to allow users access to the following tab <code class="language-plaintext highlighter-rouge">&lt;AccordionForm.Panel label="Description" name="description"&gt;</code> in <code class="language-plaintext highlighter-rouge">products</code> resource, add this line in permissions: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: 'products.panel.description' }</code>.</p>

<p><code class="language-plaintext highlighter-rouge">&lt;AccordionForm.Panel&gt;</code> also only renders the child inputs for which the user has the ‘write’ permissions.</p>

<h2 id="accordionsection"><code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code></h2>

<p>Replacement for the default <code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code> that only renders a section if the user has the right permissions. <code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code> also only renders the child inputs for which the user has the ‘write’ permissions. This component is provided by the <code class="language-plaintext highlighter-rouge">@react-admin/ra-enterprise</code> package.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Edit</span><span class="p">,</span> <span class="nx">SimpleForm</span><span class="p">,</span> <span class="nx">TextInput</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">AccordionSection</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-enterprise</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.description' is missing</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.image' is missing</span>
        <span class="c1">// note that the section with the name 'description' will be displayed</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.section.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// note that the section with the name 'images' will be displayed</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.section.images</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.section.stock' is missing</span>
    <span class="p">]),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductEdit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Edit</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">SimpleForm</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">AccordionSection</span> <span class="na">label</span><span class="p">=</span><span class="s">"Description"</span> <span class="na">name</span><span class="p">=</span><span class="s">"description"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                // not displayed
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">AccordionSection</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">AccordionSection</span> <span class="na">label</span><span class="p">=</span><span class="s">"Images"</span> <span class="na">name</span><span class="p">=</span><span class="s">"images"</span><span class="p">&gt;</span>
                // not displayed
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">AccordionSection</span><span class="p">&gt;</span>
            // not displayed
            <span class="p">&lt;</span><span class="nc">AccordionSection</span> <span class="na">label</span><span class="p">=</span><span class="s">"Stock"</span> <span class="na">name</span><span class="p">=</span><span class="s">"stock"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">AccordionSection</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">SimpleForm</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Edit</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p>Add a <code class="language-plaintext highlighter-rouge">name</code> prop to the <code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code> so you can reference it in the permissions.
Then, to allow users to access a particular <code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code>, update the permissions definition as follows: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: '{RESOURCE}.section.{NAME}' }</code>, where <code class="language-plaintext highlighter-rouge">RESOURCE</code> is the resource name, and <code class="language-plaintext highlighter-rouge">NAME</code> the name you provided to the <code class="language-plaintext highlighter-rouge">&lt;AccordionSection&gt;</code>.</p>

<p>For instance, to allow users access to the following tab <code class="language-plaintext highlighter-rouge">&lt;AccordionSection label="Description" name="description"&gt;</code> in <code class="language-plaintext highlighter-rouge">products</code> resource, add this line in permissions: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: 'products.section.description' }</code>.</p>

<h2 id="datagrid"><code class="language-plaintext highlighter-rouge">&lt;Datagrid&gt;</code></h2>

<p>Alternative to react-admin’s <code class="language-plaintext highlighter-rouge">&lt;Datagrid&gt;</code> that adds RBAC control to columns</p>

<p>To see a column, the user must have the permission to read the resource column:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">resource</span><span class="p">}</span><span class="s2">.</span><span class="p">${</span><span class="nx">source</span><span class="p">}</span><span class="s2">`</span> <span class="p">}</span>
</code></pre></div></div>

<p>Also, the <code class="language-plaintext highlighter-rouge">rowClick</code> prop is automatically set depending on the user props:</p>

<ul>
  <li>“edit” if the user has the permission to edit the resource</li>
  <li>“show” if the user doesn’t have the permission to edit the resource but has the permission to show it</li>
  <li>empty otherwise</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ImageField</span><span class="p">,</span> <span class="nx">TextField</span><span class="p">,</span> <span class="nx">ReferenceField</span><span class="p">,</span> <span class="nx">NumberField</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">List</span><span class="p">,</span> <span class="nx">Datagrid</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span><span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">list</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.thumbnail</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.reference</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.category_id</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.width</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.height</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.price</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">products.description</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">List</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Datagrid</span><span class="p">&gt;</span> <span class="si">{</span><span class="cm">/* ra-rbac Datagrid */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">ImageField</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">ReferenceField</span> <span class="na">source</span><span class="p">=</span><span class="s">"category_id"</span> <span class="na">reference</span><span class="p">=</span><span class="s">"categories"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"name"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">ReferenceField</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">NumberField</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">NumberField</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">NumberField</span> <span class="na">source</span><span class="p">=</span><span class="s">"price"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* these two columns are not visible to the user */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">NumberField</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">NumberField</span> <span class="na">source</span><span class="p">=</span><span class="s">"sales"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nc">Datagrid</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">List</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="edit"><code class="language-plaintext highlighter-rouge">&lt;Edit&gt;</code></h2>

<p>Replacement for react-admin’s <code class="language-plaintext highlighter-rouge">&lt;Edit&gt;</code> that adds RBAC control to actions.</p>

<ul>
  <li>Users must have the ‘show’ permission on the resource and record to see the <code class="language-plaintext highlighter-rouge">&lt;ShowButton&gt;</code>.</li>
  <li>Users must have the ‘clone’ permission on the resource and record to see the <code class="language-plaintext highlighter-rouge">&lt;CloneButton&gt;</code>.</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Edit</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">clone</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">],</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">PostEdit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Edit</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nc">Edit</span><span class="p">&gt;</span>
<span class="p">);</span>
<span class="c1">// user will see the clone button but not the show button</span>
</code></pre></div></div>

<h2 id="list"><code class="language-plaintext highlighter-rouge">&lt;List&gt;</code></h2>

<p>Replacement for react-admin’s <code class="language-plaintext highlighter-rouge">&lt;List&gt;</code> that adds RBAC control to actions and bulk actions.</p>

<ul>
  <li>Users must have the ‘create’ permission on the resource to see the <code class="language-plaintext highlighter-rouge">&lt;CreateButton&gt;</code>.</li>
  <li>Users must have the ‘export’ permission on the resource to see the <code class="language-plaintext highlighter-rouge">&lt;ExportButton&gt;</code> and the <code class="language-plaintext highlighter-rouge">&lt;BulkExportButton&gt;</code>.</li>
  <li>Users must have the ‘delete’ permission on the resource to see the <code class="language-plaintext highlighter-rouge">&lt;BulkExportButton&gt;</code>.</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">List</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
     <span class="c1">// ...</span>
     <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
          <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
                <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">create</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
                <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
                <span class="c1">// action 'export' is missing</span>
          <span class="p">],</span>
      <span class="p">}),</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">PostList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">List</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nc">List</span><span class="p">&gt;</span>
<span class="p">);</span>
<span class="c1">// user will see the following actions on top of the list:</span>
<span class="c1">// - create</span>
<span class="c1">// user will see the following bulk actions upon selection:</span>
<span class="c1">// - delete</span>
</code></pre></div></div>

<p><strong>Tip</strong>: This <code class="language-plaintext highlighter-rouge">&lt;List&gt;</code> component relies on <a href="#listactions">the <code class="language-plaintext highlighter-rouge">&lt;ListActions&gt;</code> component</a> below.</p>

<h2 id="listactions"><code class="language-plaintext highlighter-rouge">&lt;ListActions&gt;</code></h2>

<p>Replacement for react-admin’s <code class="language-plaintext highlighter-rouge">&lt;ListAction&gt;</code> that adds RBAC control to actions.</p>

<ul>
  <li>Users must have the ‘create’ permission on the resource to see the <code class="language-plaintext highlighter-rouge">&lt;CreateButton&gt;</code>.</li>
  <li>Users must have the ‘export’ permission on the resource to see the <code class="language-plaintext highlighter-rouge">&lt;ExportButton&gt;</code>.</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">List</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ListActions</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">PostList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">List</span> <span class="na">actions</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">ListActions</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nc">List</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="longform"><code class="language-plaintext highlighter-rouge">&lt;LongForm&gt;</code></h2>

<p>Alternative to react-admin’s <a href="https://marmelab.com/react-admin/LongForm.html"><code class="language-plaintext highlighter-rouge">&lt;LongForm&gt;</code></a> that adds RBAC control to the delete button, hides sections users don’t have access to, and renders inputs based on permissions. Part of the <code class="language-plaintext highlighter-rouge">@react-admin/ra-enterprise</code> package.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">LongForm</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-enterprise</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="cm">/* sections */</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.section.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.section.images</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.section.stock' is missing</span>

        <span class="cm">/* inputs */</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.description' is missing</span>
        <span class="c1">// 'products.image' is missing</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">]),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductEdit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Edit</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">LongForm</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">LongForm</span><span class="p">.</span><span class="nc">Section</span> <span class="na">name</span><span class="p">=</span><span class="s">"description"</span> <span class="na">label</span><span class="p">=</span><span class="s">"Description"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">LongForm</span><span class="p">.</span><span class="nc">Section</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">LongForm</span><span class="p">.</span><span class="nc">Section</span> <span class="na">name</span><span class="p">=</span><span class="s">"images"</span> <span class="na">label</span><span class="p">=</span><span class="s">"Images"</span><span class="p">&gt;</span>
                <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">LongForm</span><span class="p">.</span><span class="nc">Section</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">LongForm</span><span class="p">.</span><span class="nc">Section</span> <span class="na">name</span><span class="p">=</span><span class="s">"stock"</span> <span class="na">label</span><span class="p">=</span><span class="s">"Stock"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">LongForm</span><span class="p">.</span><span class="nc">Section</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* delete button not displayed */</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">LongForm</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Edit</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p><strong>Tip</strong>: You must add a <code class="language-plaintext highlighter-rouge">name</code> prop to the <code class="language-plaintext highlighter-rouge">&lt;LongForm.Section&gt;</code> so you can reference it in the permissions.
Then, to allow users to access a particular <code class="language-plaintext highlighter-rouge">&lt;LongForm.Section&gt;</code>, update the permissions definition as follows: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: '{RESOURCE}.section.{NAME}' }</code>, where <code class="language-plaintext highlighter-rouge">RESOURCE</code> is the resource name, and <code class="language-plaintext highlighter-rouge">NAME</code> the name you provided to the <code class="language-plaintext highlighter-rouge">&lt;LongForm.Section&gt;</code>.</p>

<p>For instance, to allow users access to the following tab <code class="language-plaintext highlighter-rouge">&lt;LongForm.Section label="Description" name="description"&gt;</code> in <code class="language-plaintext highlighter-rouge">products</code> resource, add this line in permissions: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: 'products.section.description' }</code>.</p>

<p><code class="language-plaintext highlighter-rouge">&lt;LongForm.Section&gt;</code> also only renders the child inputs for which the user has the ‘write’ permissions.</p>

<h2 id="menu"><code class="language-plaintext highlighter-rouge">&lt;Menu&gt;</code></h2>

<p>A replacement for react-admin’s <code class="language-plaintext highlighter-rouge">&lt;Menu&gt;</code> component, which only displays the menu items that the current user has access to (using the <code class="language-plaintext highlighter-rouge">list</code> action).</p>

<p>Pass this menu to a <code class="language-plaintext highlighter-rouge">&lt;Layout&gt;</code>, and pass that layout to the <code class="language-plaintext highlighter-rouge">&lt;Admin&gt;</code> component to use it.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Admin</span><span class="p">,</span> <span class="nx">Resource</span><span class="p">,</span> <span class="nx">ListGuesser</span><span class="p">,</span> <span class="nx">Layout</span><span class="p">,</span> <span class="nx">LayoutProps</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Menu</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">posts</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./posts</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">comments</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./comments</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">users</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./users</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">dataProvider</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./dataProvider</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">authProvider</span><span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">posts</span><span class="dl">"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">"</span><span class="s2">comments</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">CustomLayout</span> <span class="o">=</span> <span class="nx">props</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">Layout</span> <span class="si">{</span><span class="p">...</span><span class="nx">props</span><span class="si">}</span> <span class="na">menu</span><span class="p">=</span><span class="si">{</span><span class="nx">Menu</span><span class="si">}</span> <span class="p">/&gt;;</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Admin</span> <span class="na">dataProvider</span><span class="p">=</span><span class="si">{</span><span class="nx">dataProvider</span><span class="si">}</span> <span class="na">authProvider</span><span class="p">=</span><span class="si">{</span><span class="nx">authProvider</span><span class="si">}</span> <span class="na">layout</span><span class="p">=</span><span class="si">{</span><span class="nx">CustomLayout</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Resource</span> <span class="na">name</span><span class="p">=</span><span class="s">"posts"</span> <span class="si">{</span><span class="p">...</span><span class="nx">posts</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Resource</span> <span class="na">name</span><span class="p">=</span><span class="s">"comments"</span> <span class="si">{</span><span class="p">...</span><span class="nx">comments</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="si">{</span><span class="cm">/* the user won't see the Users menu */</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nc">Resource</span> <span class="na">name</span><span class="p">=</span><span class="s">"users"</span> <span class="si">{</span><span class="p">...</span><span class="nx">users</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Admin</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="resource"><code class="language-plaintext highlighter-rouge">&lt;Resource&gt;</code></h2>

<p>To restrict access to Create, Edit, List and Show views for your resources, use the <code class="language-plaintext highlighter-rouge">&lt;Resource&gt;</code> component from ra-rbac rather than the one from react-admin:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Admin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Resource</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">UserList</span><span class="p">,</span> <span class="nx">UserEdit</span><span class="p">,</span> <span class="nx">UserShow</span><span class="p">,</span> <span class="nx">UserCreate</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./users</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">CommentList</span><span class="p">,</span> <span class="nx">CommentEdit</span><span class="p">,</span> <span class="nx">CommentCreate</span><span class="p">,</span> <span class="nx">CommentShow</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./comments</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">dataProvider</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./dataProvider</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">authProvider</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./authProvider</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Admin</span> <span class="na">dataProvider</span><span class="p">=</span><span class="si">{</span><span class="nx">dataProvider</span><span class="si">}</span> <span class="na">authProvider</span><span class="p">=</span><span class="si">{</span><span class="nx">authProvider</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Resource</span> <span class="na">name</span><span class="p">=</span><span class="s">"users"</span> <span class="na">list</span><span class="p">=</span><span class="si">{</span><span class="nx">UserList</span><span class="si">}</span> <span class="na">edit</span><span class="p">=</span><span class="si">{</span><span class="nx">UserEdit</span><span class="si">}</span> <span class="na">show</span><span class="p">=</span><span class="si">{</span><span class="nx">UserShow</span><span class="si">}</span> <span class="na">create</span><span class="p">=</span><span class="si">{</span><span class="nx">UserCreate</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Resource</span> <span class="na">name</span><span class="p">=</span><span class="s">"comments"</span> <span class="na">list</span><span class="p">=</span><span class="si">{</span><span class="nx">CommentList</span><span class="si">}</span> <span class="na">edit</span><span class="p">=</span><span class="si">{</span><span class="nx">CommentEdit</span><span class="si">}</span> <span class="na">create</span><span class="p">=</span><span class="si">{</span><span class="nx">CommentCreate</span><span class="si">}</span> <span class="na">show</span><span class="p">=</span><span class="si">{</span><span class="nx">CommentShow</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Admin</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p>Ra-rbac’s <code class="language-plaintext highlighter-rouge">&lt;Resource&gt;</code> relies on the following actions:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">list</code> to enable the list view</li>
  <li><code class="language-plaintext highlighter-rouge">show</code> to enable the show view</li>
  <li><code class="language-plaintext highlighter-rouge">create</code> to enable the create view</li>
  <li><code class="language-plaintext highlighter-rouge">edit</code> to enable the edit view</li>
</ul>

<p><strong>Tip</strong>: When using ra-rbac’s <code class="language-plaintext highlighter-rouge">&lt;Resource&gt;</code>, the <code class="language-plaintext highlighter-rouge">permissions</code> injected to <code class="language-plaintext highlighter-rouge">&lt;List&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;Edit&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;Show&gt;</code> component are the merged permissions of the user and the user’s roles (as returned by <code class="language-plaintext highlighter-rouge">usePermission</code>). This makes the use of <code class="language-plaintext highlighter-rouge">canAccess</code> more straightforward. Here is the Datagrid example from the <code class="language-plaintext highlighter-rouge">canAccess</code> section above, revisited for an application using ra-rbac’s <code class="language-plaintext highlighter-rouge">&lt;Resource&gt;</code>:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">List</span><span class="p">,</span> <span class="nx">Datagrid</span><span class="p">,</span> <span class="nx">TextField</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">usePermissions</span><span class="p">,</span> <span class="nx">canAccess</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">checkAuth</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">login</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">logout</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">checkError</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">read_price</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">],</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">permissions</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">usePermissions</span><span class="p">();</span>
        <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nc">List</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">Datagrid</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"id"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                <span class="si">{</span><span class="nx">canAccess</span><span class="p">({</span>
                    <span class="nx">permissions</span><span class="p">,</span>
                    <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read_price</span><span class="dl">'</span><span class="p">,</span>
                    <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span><span class="p">,</span>
                <span class="p">})</span> <span class="o">&amp;&amp;</span> <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"price"</span> <span class="p">/&gt;</span><span class="si">}</span>
                <span class="si">{</span><span class="cm">/* this column will not render */</span><span class="si">}</span>
                <span class="si">{</span><span class="nx">canAccess</span><span class="p">({</span>
                    <span class="nx">permissions</span><span class="p">,</span>
                    <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read_stock</span><span class="dl">'</span><span class="p">,</span>
                    <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span><span class="p">,</span>
                <span class="p">})</span> <span class="o">&amp;&amp;</span> <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">Datagrid</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">List</span><span class="p">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="show"><code class="language-plaintext highlighter-rouge">&lt;Show&gt;</code></h2>

<p>Replacement for react-admin’s <code class="language-plaintext highlighter-rouge">&lt;Show&gt;</code> that adds RBAC control to actions.</p>

<p>Users must have the ‘edit’ permission on the resource and record to see the <code class="language-plaintext highlighter-rouge">&lt;EditButton&gt;</code>.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ShowProps</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Show</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">show</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">],</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">PostShow</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Show</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nc">Show</span><span class="p">&gt;</span>
<span class="p">);</span>
<span class="c1">// user will see the edit action on top of the Show view</span>
</code></pre></div></div>

<p>To control the appearance of individual fields, use <a href="#simpleshowlayout">the <code class="language-plaintext highlighter-rouge">&lt;SimpleShowLayout&gt;</code> component</a> from ra-enterprise.</p>

<h2 id="simpleform"><code class="language-plaintext highlighter-rouge">&lt;SimpleForm&gt;</code></h2>

<p>Alternative to react-admin’s <code class="language-plaintext highlighter-rouge">&lt;SimpleForm&gt;</code> that adds RBAC control to inputs</p>

<p>To see an input, the user must have the permission to write the resource field:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span> <span class="nl">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">write</span><span class="dl">"</span><span class="p">,</span> <span class="nx">resource</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">resource</span><span class="p">}</span><span class="s2">.</span><span class="p">${</span><span class="nx">source</span><span class="p">}</span><span class="s2">`</span> <span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">&lt;SimpleForm&gt;</code> also renders the delete button only if the user has the ‘delete’ permission.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Edit</span><span class="p">,</span> <span class="nx">TextInput</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">SimpleForm</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span><span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="c1">// 'delete' is missing</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
            <span class="c1">// 'products.description' is missing</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
            <span class="c1">// 'products.image' is missing</span>
        <span class="p">]</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductEdit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Edit</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">SimpleForm</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* no delete button */</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">SimpleForm</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Edit</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="simpleshowlayout"><code class="language-plaintext highlighter-rouge">&lt;SimpleShowLayout&gt;</code></h2>

<p>Alternative to react-admin’s <code class="language-plaintext highlighter-rouge">&lt;SimpleShowLayout&gt;</code> that adds RBAC control to fields</p>

<p>To see a column, the user must have the permission to read the resource column:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span> <span class="nl">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">read</span><span class="dl">"</span><span class="p">,</span> <span class="nx">resource</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">resource</span><span class="p">}</span><span class="s2">.</span><span class="p">${</span><span class="nx">source</span><span class="p">}</span><span class="s2">`</span> <span class="p">}</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ShowProps</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">SimpleShowLayout</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span><span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
        <span class="na">permissions</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">show</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
            <span class="c1">// 'products.description' is missing</span>
            <span class="c1">// 'products.image' is missing</span>
            <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
            <span class="c1">// 'products.stock' is missing</span>
        <span class="p">]</span>
    <span class="p">}),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductShow</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Show</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">SimpleShowLayout</span><span class="p">&gt;</span> <span class="si">{</span><span class="cm">/* &lt;-- RBAC SimpleShowLayout */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="si">{</span><span class="cm">/* not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nc">SimpleShowLayout</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Show</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="tabbedshowlayout"><code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout&gt;</code></h2>

<p><code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout&gt;</code> shows only the tabs for which users have read permissions, using the <code class="language-plaintext highlighter-rouge">[resource].tab.[tabName]</code> string as resource identifier. <code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout.Tab&gt;</code> shows only the child fields for which users have the read permissions, using the <code class="language-plaintext highlighter-rouge">[resource].[source]</code> string as resource identifier.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Show</span><span class="p">,</span> <span class="nx">TextField</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">TabbedShowLayout</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="c1">// crud</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">show</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// tabs ('products.tab.stock' is missing)</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.tab.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.tab.images</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// fields ('products.description' and 'products.image' are missing)</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">]),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductShow</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Show</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">TabbedShowLayout</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">TabbedShowLayout</span><span class="p">.</span><span class="nc">Tab</span> <span class="na">label</span><span class="p">=</span><span class="s">"Description"</span> <span class="na">name</span><span class="p">=</span><span class="s">"description"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                <span class="si">{</span><span class="cm">/* the description field is not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">TabbedShowLayout</span><span class="p">.</span><span class="nc">Tab</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* the stock tab is not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TabbedShowLayout</span><span class="p">.</span><span class="nc">Tab</span> <span class="na">label</span><span class="p">=</span><span class="s">"Stock"</span> <span class="na">name</span><span class="p">=</span><span class="s">"stock"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">TabbedShowLayout</span><span class="p">.</span><span class="nc">Tab</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">TabbedShowLayout</span><span class="p">.</span><span class="nc">Tab</span> <span class="na">label</span><span class="p">=</span><span class="s">"Images"</span> <span class="na">name</span><span class="p">=</span><span class="s">"images"</span><span class="p">&gt;</span>
                <span class="si">{</span><span class="cm">/* the images field is not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextField</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">TabbedShowLayout</span><span class="p">.</span><span class="nc">Tab</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">TabbedShowLayout</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Show</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p>You must add a <code class="language-plaintext highlighter-rouge">name</code> prop to the <code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout.Tab&gt;</code> so you can reference it in the permissions.
Then, to allow users to access a particular <code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout.Tab&gt;</code>, update the permissions definition as follows: <code class="language-plaintext highlighter-rouge">{ action: 'read', resource: '{RESOURCE}.tab.{NAME}' }</code>, where <code class="language-plaintext highlighter-rouge">RESOURCE</code> is the resource name, and <code class="language-plaintext highlighter-rouge">NAME</code> the name you provided to the <code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout.Tab&gt;</code>.</p>

<p>For instance, to allow users access to the following tab <code class="language-plaintext highlighter-rouge">&lt;TabbedShowLayout.Tab label="description"&gt;</code> in <code class="language-plaintext highlighter-rouge">products</code> resource, add this line in permissions: <code class="language-plaintext highlighter-rouge">{ action: 'read', resource: 'products.tab.description' }</code>.</p>

<h2 id="tabbedform"><code class="language-plaintext highlighter-rouge">&lt;TabbedForm&gt;</code></h2>

<p><code class="language-plaintext highlighter-rouge">&lt;TabbedForm&gt;</code> shows only the tabs for which users have write permissions, using the <code class="language-plaintext highlighter-rouge">[resource].tab.[tabName]</code> string as resource identifier. It also renders the delete button only if the user has a permission for the <code class="language-plaintext highlighter-rouge">delete</code> action in the current resource. <code class="language-plaintext highlighter-rouge">&lt;TabbedForm.Tab&gt;</code> shows only the child inputs for which users have the write permissions, using the <code class="language-plaintext highlighter-rouge">[resource].[source]</code> string as resource identifier.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Edit</span><span class="p">,</span> <span class="nx">TextInput</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-admin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">TabbedForm</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-rbac</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="c1">// crud (the delete action is missing)</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// tabs ('products.tab.stock' is missing)</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.tab.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.tab.images</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// fields ('products.description' and 'products.image' are missing)</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">]),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductEdit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Edit</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">TabbedForm</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">TabbedForm</span><span class="p">.</span><span class="nc">Tab</span> <span class="na">label</span><span class="p">=</span><span class="s">"Description"</span> <span class="na">name</span><span class="p">=</span><span class="s">"description"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                <span class="si">{</span><span class="cm">/* the description input is not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">TabbedForm</span><span class="p">.</span><span class="nc">Tab</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* the stock tab is not displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">TabbedForm</span><span class="p">.</span><span class="nc">Tab</span> <span class="na">label</span><span class="p">=</span><span class="s">"Stock"</span> <span class="na">name</span><span class="p">=</span><span class="s">"stock"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">TabbedForm</span><span class="p">.</span><span class="nc">Tab</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">TabbedForm</span><span class="p">.</span><span class="nc">Tab</span> <span class="na">label</span><span class="p">=</span><span class="s">"Images"</span> <span class="na">name</span><span class="p">=</span><span class="s">"images"</span><span class="p">&gt;</span>
                <span class="si">{</span><span class="cm">/* the images input is not displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">TabbedForm</span><span class="p">.</span><span class="nc">Tab</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* the delete button is not displayed */</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">TabbedForm</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Edit</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p>You must add a <code class="language-plaintext highlighter-rouge">name</code> prop to the <code class="language-plaintext highlighter-rouge">&lt;TabbedForm.Tab&gt;</code> so you can reference it in the permissions. Then, to allow users to access a particular <code class="language-plaintext highlighter-rouge">&lt;TabbedForm.Tab&gt;</code>, update the permissions definition as follows: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: '{RESOURCE}.tab.{NAME}' }</code>, where <code class="language-plaintext highlighter-rouge">RESOURCE</code> is the resource name, and <code class="language-plaintext highlighter-rouge">NAME</code> the name you provided to the <code class="language-plaintext highlighter-rouge">&lt;TabbedForm.Tab&gt;</code>.</p>

<p>For instance, to allow users access to the following tab <code class="language-plaintext highlighter-rouge">&lt;TabbedForm.Tab label="Description" name="description"&gt;</code> in <code class="language-plaintext highlighter-rouge">products</code> resource, add this line in permissions: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: 'products.tab.description' }</code>.</p>

<h2 id="wizardform"><code class="language-plaintext highlighter-rouge">&lt;WizardForm&gt;</code></h2>

<p>Alternative to react-admin’s <code class="language-plaintext highlighter-rouge">&lt;WizardForm&gt;</code> that adds RBAC control to hide steps users don’t have access to. <code class="language-plaintext highlighter-rouge">&lt;WizardForm.Step&gt;</code> also only renders the child inputs for which the user has the ‘write’ permissions.</p>

<p>This component is provided by the <code class="language-plaintext highlighter-rouge">@react-admin/ra-enterprise</code> package.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">WizardForm</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-admin/ra-enterprise</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">checkAuth</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">login</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">logout</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">checkError</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(),</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span><span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="c1">// 'delete' is missing</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">edit</span><span class="dl">'</span><span class="p">],</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.reference</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.width</span><span class="dl">'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.height</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.description' is missing</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.thumbnail</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.image' is missing</span>
        <span class="c1">// note that the step with the name 'description' will be displayed</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.step.description</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// note that the step with the name 'images' will be displayed</span>
        <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">,</span> <span class="na">resource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">products.step.images</span><span class="dl">'</span> <span class="p">},</span>
        <span class="c1">// 'products.step.stock' is missing</span>
    <span class="p">]),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">ProductCreate</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Create</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">WizardForm</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">WizardForm</span><span class="p">.</span><span class="nc">Step</span> <span class="na">name</span><span class="p">=</span><span class="s">"description"</span> <span class="na">label</span><span class="p">=</span><span class="s">"Description"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"reference"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"width"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"height"</span> <span class="p">/&gt;</span>
                <span class="si">{</span><span class="cm">/* Won't be displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"description"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">WizardForm</span><span class="p">.</span><span class="nc">Step</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">WizardForm</span><span class="p">.</span><span class="nc">Step</span> <span class="na">name</span><span class="p">=</span><span class="s">"images"</span> <span class="na">label</span><span class="p">=</span><span class="s">"Images"</span><span class="p">&gt;</span>
                <span class="si">{</span><span class="cm">/* Won't be displayed */</span><span class="si">}</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"image"</span> <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"thumbnail"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">WizardForm</span><span class="p">.</span><span class="nc">Step</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* Won't be displayed */</span><span class="si">}</span>
            <span class="p">&lt;</span><span class="nc">WizardForm</span><span class="p">.</span><span class="nc">Step</span> <span class="na">name</span><span class="p">=</span><span class="s">"stock"</span> <span class="na">label</span><span class="p">=</span><span class="s">"Stock"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">TextInput</span> <span class="na">source</span><span class="p">=</span><span class="s">"stock"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">WizardForm</span><span class="p">.</span><span class="nc">Step</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* Delete button won't be displayed */</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">WizardForm</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Create</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div></div>

<p><strong>Tip</strong>: You must add a <code class="language-plaintext highlighter-rouge">name</code> prop to the <code class="language-plaintext highlighter-rouge">&lt;WizardForm.Step&gt;</code> so you can reference it in the permissions.
Then, to allow users to access a particular <code class="language-plaintext highlighter-rouge">&lt;WizardForm.Step&gt;</code>, update the permissions definition as follows: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: '{RESOURCE}.step.{NAME}' }</code>, where <code class="language-plaintext highlighter-rouge">RESOURCE</code> is the resource name, and <code class="language-plaintext highlighter-rouge">NAME</code> the name you provided to the <code class="language-plaintext highlighter-rouge">&lt;WizardForm.Step&gt;</code>.</p>

<p>For instance, to allow users access to the following tab <code class="language-plaintext highlighter-rouge">&lt;WizardForm.Step label="Description" name="description"&gt;</code> in <code class="language-plaintext highlighter-rouge">products</code> resource, add this line in permissions: <code class="language-plaintext highlighter-rouge">{ action: 'write', resource: 'products.step.description' }</code>.</p>

<h2 id="performance">Performance</h2>

<p><code class="language-plaintext highlighter-rouge">authProvider.getPermissions()</code> can return a promise, which in theory allows to rely on the authentication server for permissions. The downside is that this slows down the app a great deal, as each page may contain dozens of calls to these methods.</p>

<p>To compensate for that, <code class="language-plaintext highlighter-rouge">usePermissions</code> uses a stale-while-revalidate approach, and after the initial call to <code class="language-plaintext highlighter-rouge">authProvider.getPermissions()</code>, it will return the permissions from the cache, and refresh them in the background.</p>

<p>In practice, your <code class="language-plaintext highlighter-rouge">authProvider</code> should use short-lived sessions, and refresh the permissions only when the session ends. JSON Web tokens (JWT) work that way.</p>

<p>Here is an example of an <code class="language-plaintext highlighter-rouge">authProvider</code> that stores the permissions in memory, and refreshes them only every 5 minutes:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">permissions</span><span class="p">;</span> <span class="c1">// memory cache</span>
<span class="kd">let</span> <span class="nx">permissionsExpiresAt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">getPermissions</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Request</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://mydomain.com/permissions</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">({</span> <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">token</span><span class="dl">'</span><span class="p">)}</span><span class="s2">`</span> <span class="p">}),</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">permissions</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">permissions</span><span class="p">;</span>
                <span class="nx">permissionsExpiresAt</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// 5 minutes</span>
            <span class="p">});</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">authProvider</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">login</span><span class="p">:</span> <span class="p">({</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">password</span> <span class="p">})</span> <span class="o">=&gt;</span>  <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Request</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://mydomain.com/authenticate</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">password</span> <span class="p">}),</span>
            <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">({</span> <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span> <span class="p">}),</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">200</span> <span class="o">||</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">300</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
            <span class="p">})</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">token</span><span class="dl">'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">token</span><span class="p">));</span>
            <span class="p">});</span>
    <span class="p">},</span>
    <span class="c1">// ...</span>
    <span class="na">getPermissions</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">&gt;</span> <span class="nx">permissionsExpiresAt</span> <span class="p">?</span> <span class="nx">getPermissions</span><span class="p">()</span> <span class="p">:</span> <span class="nx">permissions</span><span class="p">;</span>
    <span class="p">},</span>
<span class="p">};</span>
</code></pre></div></div>

                        </div>
                    </div>
                    <div class="col hide-on-small-only m3 toc-container">
                        <div class="toc"></div>
                    </div>
                </div>
            </div>
        </main>

        <script src="/js/materialize.min.js"></script>
        <script src="/js/prism.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.0/tocbot.min.js"
            defer
            integrity="sha512-oD3xGN8YTxenx6tdS4D/RKqO4OtORBQtAb2/FseM17GGMIi6jMwKUBc8duX4A5RwMOGGXoFBZrsqbOk8GpXFgQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script src="/js/ra-doc-exec.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
        
        <script type="text/javascript">
            docsearch({
                container: '#docsearch',
                appId: 'QY9T9CVM2N',
                indexName: 'marmelab-react-admin',
                apiKey: '75332227370be3dc35777cee6244881a',
                searchParameters: { facetFilters: ['version:  latest'] },
            });
        </script>

        <!--
        React-admin protects your privacy!
        We use our own self-hosted tracking solution to collect some raw metrics,
        like page views, device type (mobile, desktop, etc.) or country.
        We don't track any personal information about our visitors.
    -->
        <script
            async
            defer
            data-website-id="ef7f8242-2808-4cbf-9dff-564daa515bbd"
            src="https://analytics.marmelab.com/umami.js"
        ></script>

        <!-- Newsletter form -->
        <script>
            window.REQUIRED_CODE_ERROR_MESSAGE = 'Please choose a country code';
            window.LOCALE = 'en';
            window.GENERIC_INVALID_MESSAGE = window.EMAIL_INVALID_MESSAGE = window.SMS_INVALID_MESSAGE =
                'The information provided is invalid. Please review the field format and try again.';
            window.REQUIRED_ERROR_MESSAGE = 'This field is required.';

            var AUTOHIDE = Boolean(0);
        </script>

        <script
            async
            defer
            src="https://unpkg.com/typescript@5.1.3/lib/typescript.js"
        ></script>
        <script
            async
            defer
            src="https://unpkg.com/prettier@2.8.8/standalone.js"
        ></script>
        <script
            async
            defer
            src="https://unpkg.com/prettier@2.8.8/parser-babel.js"
        ></script>
    </body>
</html>
